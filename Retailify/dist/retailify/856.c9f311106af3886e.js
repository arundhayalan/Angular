"use strict";(self.webpackChunkRetailify=self.webpackChunkRetailify||[]).push([[856],{1391:(v,g,a)=>{a.d(g,{a:()=>f});var t=a(5879),p=a(2333),i=a(1896);let f=(()=>{class u{constructor(s,m){this.authService=s,this.router=m}canActivate(){return!!this.authService.isLoggedIn()||(alert("You Need to login first"),this.router.navigate(["/list-of-products"]),!1)}static#t=this.\u0275fac=function(m){return new(m||u)(t.LFG(p.e),t.LFG(i.F0))};static#e=this.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},8795:(v,g,a)=>{a.d(g,{y:()=>f});var t=a(7398),p=a(5879),i=a(9862);let f=(()=>{class u{constructor(s){this.http=s,this.usersUrl="http://localhost:3000/buyers",this.apiUrl="http://localhost:3000/buyer-addresses"}login(){return console.log(this.http.get(`${this.usersUrl}`)),this.http.get(`${this.usersUrl}`)}addBuyer(s){return this.http.post(this.usersUrl,s)}getAddressesByBuyerId(s){return this.http.get(`${this.apiUrl}?buyerId=${s}`)}updateAddress(s,m){return this.http.patch(`${this.apiUrl}/${s}`,m)}checkEmailExists(s){return this.http.get(`${this.usersUrl}?email=${s}`).pipe((0,t.U)(m=>m.length>0))}static#t=this.\u0275fac=function(m){return new(m||u)(p.LFG(i.eN))};static#e=this.\u0275prov=p.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},852:(v,g,a)=>{a.d(g,{y:()=>z});var t=a(5879),p=a(1896),i=a(6223),f=a(7398),u=a(9862);let T=(()=>{class e{constructor(r){this.http=r,this.sellerUrl="http://localhost:3000/sellers"}addseller(r){return this.http.post(this.sellerUrl,r)}checksellerEmailExists(r){return this.http.get(`${this.sellerUrl}?email=${r}`).pipe((0,f.U)(n=>n.length>0))}static#t=this.\u0275fac=function(n){return new(n||e)(t.LFG(u.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var s=a(5619);let m=(()=>{class e{constructor(){this.formDataSubject=new s.X(null),this.formData$=this.formDataSubject.asObservable()}setFormData(r){this.formDataSubject.next(r)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var b=a(8795),U=a(2939),x=a(2296),F=a(5195),A=a(6814),C=a(2032),_=a(4170),y=a(8525),I=a(3680),Z=a(8034),h=a(1545);function N(e,l){1&e&&t._uU(0,"Personal Information")}function q(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," First name can only contain alphabets and single quotes. "),t.qZA())}function E(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Last name can only contain alphabets. "),t.qZA())}function Y(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Last name is required. "),t.qZA())}function P(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Gender is required. "),t.qZA())}function D(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,' Date of Birth should be in "DD/MM/YYYY" format. '),t.qZA())}function M(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Date of Birth is required. "),t.qZA())}function O(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Age must be 14 years or older. "),t.qZA())}function S(e,l){1&e&&t._uU(0,"Contact Information")}function J(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Phone number should be numeric with a length of 10. "),t.qZA())}function k(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Phone Number is required. "),t.qZA())}function B(e,l){1&e&&t._uU(0,"Account Information")}function w(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Enter a valid email address. "),t.qZA())}function Q(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Email is required. "),t.qZA())}function L(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Password is required. "),t.qZA())}function R(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," category is required. "),t.qZA())}function $(e,l){if(1&e&&(t.TgZ(0,"div",25)(1,"mat-form-field",6)(2,"mat-label"),t._uU(3,"Product Categories"),t.qZA(),t.TgZ(4,"mat-select",26)(5,"mat-option",27),t._uU(6,"Furniture"),t.qZA(),t.TgZ(7,"mat-option",28),t._uU(8,"Electronics"),t.qZA()(),t.YNc(9,R,2,0,"mat-error",11),t.qZA(),t.TgZ(10,"mat-form-field",6)(11,"mat-label"),t._uU(12,"PAN"),t.qZA(),t._UZ(13,"input",29),t.qZA()()),2&e){const r=t.oxw();t.xp6(9),t.Q6J("ngIf",r.registrationForm.get("productcategories").hasError("required"))}}let G=(()=>{class e{constructor(r,n){this.fb=r,this.sharedService=n}ngOnInit(){this.createForm()}createForm(){this.registrationForm=this.fb.group({role:["",i.kI.required],firstName:[null,[i.kI.pattern(/^[a-zA-Z\s']+$/)]],lastName:[null,[i.kI.required,i.kI.pattern(/^[a-zA-Z]+$/)]],phoneNumber:[null,[i.kI.required,i.kI.pattern(/^\d{10}$/)]],dob:[null,[i.kI.required,this.ageValidator]],gender:[null,i.kI.required],email:[null,[i.kI.required,i.kI.email]],password:[null,i.kI.required],productcategories:[""],panNumber:[""]}),this.registrationForm.get("productcategories").setValidators(r=>"seller"===this.registrationForm.get("role").value?i.kI.required(r):null),this.sharedService.setFormData(this.registrationForm)}onDateInput(r){const n=r.value,o=n?n.toISOString().split("T")[0]:null;this.registrationForm.get("dob").setValue(o)}ageValidator(r){const n=new Date,o=new Date(r.value);return Math.floor((n.getTime()-o.getTime())/315576e5)>=14?null:{invalidAge:!0}}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(i.qu),t.Y36(m))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-forms"]],decls:80,vars:19,consts:[[1,"example-container"],[3,"linear"],["stepper",""],["matStepLabel",""],[1,"mat-elevation-z2","register-card",3,"formGroup"],[1,"input-group"],[1,"half-width"],["formControlName","role"],["value","buyer"],["value","seller"],["matInput","","type","text","id","firstName","formControlName","firstName"],[4,"ngIf"],["matInput","","type","text","id","lastName","formControlName","lastName"],["formControlName","gender","placeholder","Select Gender"],["value","male"],["value","female"],["matInput","","formControlName","dob","placeholder","DD/MM/YYYY",3,"matDatepicker","dateInput"],["matSuffix","",3,"for"],["dobPicker",""],["mat-button","","matStepperNext","","color","primary"],["matInput","","type","text","id","phoneNumber","formControlName","phoneNumber"],["mat-button","","matStepperPrevious","","color","warn"],["matInput","","type","text","id","email","formControlName","email"],["matInput","","type","password","id","password","formControlName","password"],["class","field-container",4,"ngIf"],[1,"field-container"],["formControlName","productcategories"],["value","Furniture"],["value","Electronics"],["matInput","","type","text","id","panNumber","formControlName","panNumber"]],template:function(n,o){if(1&n&&(t.TgZ(0,"mat-card-content")(1,"div",0)(2,"mat-horizontal-stepper",1,2)(4,"mat-step"),t.YNc(5,N,1,0,"ng-template",3),t.TgZ(6,"form",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"Role"),t.qZA(),t.TgZ(11,"mat-select",7)(12,"mat-option",8),t._uU(13,"Buyer"),t.qZA(),t.TgZ(14,"mat-option",9),t._uU(15,"Seller"),t.qZA()()(),t.TgZ(16,"mat-form-field",6)(17,"mat-label"),t._uU(18,"First Name"),t.qZA(),t._UZ(19,"input",10),t.YNc(20,q,2,0,"mat-error",11),t.qZA(),t.TgZ(21,"mat-form-field",6)(22,"mat-label"),t._uU(23,"Last Name"),t.qZA(),t._UZ(24,"input",12),t.YNc(25,E,2,0,"mat-error",11),t.YNc(26,Y,2,0,"mat-error",11),t.qZA(),t.TgZ(27,"mat-form-field",6)(28,"mat-label"),t._uU(29,"Gender"),t.qZA(),t.TgZ(30,"mat-select",13)(31,"mat-option",14),t._uU(32,"Male"),t.qZA(),t.TgZ(33,"mat-option",15),t._uU(34,"Female"),t.qZA()(),t.YNc(35,P,2,0,"mat-error",11),t.qZA(),t.TgZ(36,"mat-form-field",6)(37,"mat-label"),t._uU(38,"Date of Birth"),t.qZA(),t.TgZ(39,"input",16),t.NdJ("dateInput",function(d){return o.onDateInput(d)}),t.qZA(),t._UZ(40,"mat-datepicker-toggle",17)(41,"mat-datepicker",null,18),t.YNc(43,D,2,0,"mat-error",11),t.YNc(44,M,2,0,"mat-error",11),t.YNc(45,O,2,0,"mat-error",11),t.qZA()(),t.TgZ(46,"button",19),t._uU(47,"Next"),t.qZA()()(),t.TgZ(48,"mat-step"),t.YNc(49,S,1,0,"ng-template",3),t.TgZ(50,"form",4)(51,"div",5)(52,"mat-form-field",6)(53,"mat-label"),t._uU(54,"Phone Number"),t.qZA(),t._UZ(55,"input",20),t.YNc(56,J,2,0,"mat-error",11),t.YNc(57,k,2,0,"mat-error",11),t.qZA(),t.TgZ(58,"button",21),t._uU(59,"Back"),t.qZA(),t.TgZ(60,"button",19),t._uU(61,"Next"),t.qZA()()()(),t.TgZ(62,"mat-step"),t.YNc(63,B,1,0,"ng-template",3),t.TgZ(64,"form",4)(65,"div",5)(66,"mat-form-field",6)(67,"mat-label"),t._uU(68,"Email"),t.qZA(),t._UZ(69,"input",22),t.YNc(70,w,2,0,"mat-error",11),t.YNc(71,Q,2,0,"mat-error",11),t.qZA(),t.TgZ(72,"mat-form-field",6)(73,"mat-label"),t._uU(74,"Password"),t.qZA(),t._UZ(75,"input",23),t.YNc(76,L,2,0,"mat-error",11),t.qZA(),t.YNc(77,$,14,1,"div",24),t.TgZ(78,"button",21),t._uU(79,"Back"),t.qZA()()()()()()()),2&n){const c=t.MAs(42);t.xp6(2),t.Q6J("linear",!0),t.xp6(4),t.Q6J("formGroup",o.registrationForm),t.xp6(14),t.Q6J("ngIf",o.registrationForm.get("firstName").hasError("pattern")),t.xp6(5),t.Q6J("ngIf",o.registrationForm.get("lastName").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",o.registrationForm.get("lastName").hasError("required")),t.xp6(9),t.Q6J("ngIf",o.registrationForm.get("gender").hasError("required")),t.xp6(4),t.Q6J("matDatepicker",c),t.xp6(1),t.Q6J("for",c),t.xp6(3),t.Q6J("ngIf",o.registrationForm.get("dob").hasError("matDatepickerParse")),t.xp6(1),t.Q6J("ngIf",o.registrationForm.get("dob").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.registrationForm.get("dob").hasError("invalidAge")),t.xp6(5),t.Q6J("formGroup",o.registrationForm),t.xp6(6),t.Q6J("ngIf",o.registrationForm.get("phoneNumber").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",o.registrationForm.get("phoneNumber").hasError("required")),t.xp6(7),t.Q6J("formGroup",o.registrationForm),t.xp6(6),t.Q6J("ngIf",o.registrationForm.get("email").hasError("email")),t.xp6(1),t.Q6J("ngIf",o.registrationForm.get("email").hasError("required")),t.xp6(5),t.Q6J("ngIf",o.registrationForm.get("password").hasError("required")),t.xp6(1),t.Q6J("ngIf","seller"===o.registrationForm.get("role").value)}},dependencies:[A.O5,x.lW,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,C.Nt,_.KE,_.hX,_.TO,_.R9,F.dn,y.gD,I.ey,Z.Mq,Z.hl,Z.nW,h.C0,h.VY,h.Vq,h.Ic,h.fd],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:20px}.register-card[_ngcontent-%COMP%]{padding:20px;border:1px solid #ccc;border-radius:10px;box-shadow:0 2px 5px #0000001a}.input-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:15px}.half-width[_ngcontent-%COMP%]{width:48%;margin-bottom:10px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.field-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:15px}mat-button[_ngcontent-%COMP%]{margin-top:10px}"]})}return e})();const j=function(){return["/buyers/login"]};let z=(()=>{class e{constructor(r,n,o,c,d,W){this.Router=r,this.fb=n,this.sellerService=o,this.sharedService=c,this.buyerService=d,this.snackBar=W}ngOnInit(){this.sharedService.formData$.subscribe(r=>{this.registrationForm=r,console.log(this.registrationForm)})}onSubmit(){if(this.registrationForm&&this.registrationForm.valid){console.log("Form submitted:",this.registrationForm.value);const r=this.registrationForm.value,n=this.registrationForm.get("email").value,o=this.registrationForm.get("role").value;"buyer"===o?this.buyerService.checkEmailExists(n).subscribe(c=>{c?this.snackBar.open("Buyer Email already exists","Close",{duration:3e3}):(delete r.productcategories,delete r.panNumber,this.buyerService.addBuyer(r).subscribe(d=>{console.log("Buyer registered:",d)}),this.snackBar.open("Registration successful","Close",{duration:3e3}))}):"seller"===o?this.sellerService.checksellerEmailExists(n).subscribe(c=>{c?this.snackBar.open("Seller Email already exists","Close",{duration:3e3}):(this.sellerService.addseller(r).subscribe(d=>{console.log("seller registered:",d)}),this.snackBar.open("Registration successful","Close",{duration:3e3}),this.Router.navigate(["sellers/login-seller"]))}):console.log("Form is invalid. Please check the fields.")}}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(p.F0),t.Y36(i.qu),t.Y36(T),t.Y36(m),t.Y36(b.y),t.Y36(U.ux))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],decls:17,vars:3,consts:[[1,"container"],[1,"container-card"],[1,"example-container"],[1,"login-container"],["mat-button","","color","primary",3,"disabled","click"],["mat-button","","color","success",3,"routerLink"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card-content")(3,"div",2)(4,"h2"),t._uU(5,"Registration"),t.qZA(),t._UZ(6,"app-forms")(7,"br"),t.TgZ(8,"div",3)(9,"button",4),t.NdJ("click",function(){return o.onSubmit()}),t._uU(10,"Submit"),t.qZA()(),t._UZ(11,"br"),t.TgZ(12,"div")(13,"span"),t._uU(14,"Already have an account?"),t.qZA(),t.TgZ(15,"button",5),t._uU(16,"Login"),t.qZA()()()()()()),2&n&&(t.xp6(9),t.Q6J("disabled",!o.registrationForm||o.registrationForm.invalid),t.xp6(6),t.Q6J("routerLink",t.DdM(2,j)))},dependencies:[x.lW,F.dn,p.rH,G],styles:["mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{padding-left:10%;width:80%;height:20%;display:flex;flex-direction:column;align-items:center;margin-top:100px}.example-container[_ngcontent-%COMP%]{width:80%;padding:20px;border-radius:100px;text-align:center;box-sizing:border-box}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:20px}@media (max-width: 768px){.example-container[_ngcontent-%COMP%]{width:90%}}.input-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:15px}.half-width[_ngcontent-%COMP%]{width:50%;margin-bottom:10px}.mat-form-field[_ngcontent-%COMP%]{width:100%}mat-button[_ngcontent-%COMP%]{margin-top:10px}"]})}return e})()}}]);